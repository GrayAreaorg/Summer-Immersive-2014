<!DOCTYPE html>
<title>Spiral Shapes</title>
<style>

  canvas {
    border: 1px solid #ccc;
  }

</style>

<canvas width="500" height="500"></canvas>
<script>

var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d"),
    width = canvas.width,
    height = canvas.height,
    count = 200,
    sizeMin = 0,
    sizeMax = 100,
    xMin = 0,
    xMax = width / 2,
    thetaMin = 0,
    thetaMax = Math.PI * 8,
    angle = 0,
    speed = 1.05;

context.globalAlpha = .2;

setInterval(draw, 50);

function draw() {
  context.clearRect(0, 0, width, height);
  for (var i = 0; i < count; i++) {
    context.save();

    var radius = scale(i, 0, count - 1, sizeMin, sizeMax),
        theta = scale(i, 0, count - 1, thetaMin, thetaMax),
        x = scale(i, 0, count - 1, xMin, xMax);
    context.beginPath();

    context.translate(width / 2, height / 2);
    context.rotate(angle + theta);
    context.translate(x, 0);
    context.arc(0, 0, radius, 0, Math.PI * 2);

    context.closePath();
    context.stroke();

    context.restore();
  }
  if (sizeMax > 1000) {
    speed = .98;
    sizeMax = 1000;
  } else if (sizeMax < 50) {
    speed = 1.01;
    sizeMax = 50;
  } else {
    sizeMax *= speed;
  }
  angle += .01;
}

function scale(n, inMin, inMax, outMin, outMax) {
  return outMin + (outMax - outMin) * (n - inMin) / (inMax - inMin);
}

</script>
